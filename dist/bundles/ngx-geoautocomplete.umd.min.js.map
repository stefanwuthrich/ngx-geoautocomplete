{"version":3,"sources":["webpack://ngxGeoautocomplete/webpack/universalModuleDefinition","webpack://ngxGeoautocomplete/webpack/bootstrap","webpack://ngxGeoautocomplete/external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}","webpack://ngxGeoautocomplete/external {\"root\":[\"ng\",\"common\"],\"commonjs\":\"@angular/common\",\"commonjs2\":\"@angular/common\",\"amd\":\"@angular/common\"}","webpack://ngxGeoautocomplete/./src/windowRef.service.ts","webpack://ngxGeoautocomplete/external {\"root\":[\"ng\",\"commonHttp\"],\"commonjs\":\"@angular/common/http\",\"commonjs2\":\"@angular/common/http\",\"amd\":\"@angular/common/http\"}","webpack://ngxGeoautocomplete/./src/auto-complete.service.ts","webpack://ngxGeoautocomplete/./src/storage.service.ts","webpack://ngxGeoautocomplete/./src/index.ts","webpack://ngxGeoautocomplete/./src/ngx-geoautocomplete.module.ts","webpack://ngxGeoautocomplete/external {\"root\":[\"ng\",\"forms\"],\"commonjs\":\"@angular/forms\",\"commonjs2\":\"@angular/forms\",\"amd\":\"@angular/forms\"}","webpack://ngxGeoautocomplete/./src/auto-complete.component.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__8__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GlobalRef","BrowserGlobalRef","_super","__extends","core_1","common_1","windowRef_service_1","http_1","storage_service_1","AutoCompleteSearchService","_http","platformId","_global","_localStorageService","this","getPredictions","url","query","_this","Promise","resolve","params","HttpParams","set","subscribe","data","getLatLngDetail","lat","lng","getPlaceDetails","placeId","getGeoCurrentLocation","isPlatformBrowser","_window","nativeGlobal","navigator","geolocation","getCurrentPosition","pos","latlng","parseFloat","coords","latitude","longitude","error","getGeoLatLngDetail","google","maps","Geocoder","geocode","location","results","status","getGeoPlaceDetail","place_id","then","result","getGeoPrediction","placesService","places","AutocompleteService","queryInput","promiseArr","countryRestriction","length","input","componentRestrictions","country","geoLocation","LatLng","radius","geoTypes","_tempQuery","Array","push","geoPredictionCall","all","values","val","_tempArr","j","concat","getUniqueResults","PlacesService","document","createElement","getDetails","getGeoPaceDetailByReferance","referance","referanceData","_window_1","reference","PlacesServiceStatus","OK","addRecentList","localStorageName","itemSavedLength","getRecentList","description","splice","unshift","pop","setItem","JSON","stringify","getItem","parse","arr","from","reduce","Map","getPlacePredictions","__decorate","Injectable","__param","Inject","PLATFORM_ID","HttpClient","LocalStorageService","localStorage","removeItem","__export","forms_1","auto_complete_component_1","auto_complete_service_1","NgxGeoautocompleteModule","forRoot","ngModule","NgxGeoautocompleteModule_1","NgModule","declarations","AutoCompleteComponent","imports","CommonModule","HttpClientModule","FormsModule","providers","provide","useClass","_elmRef","_autoCompleteSearchService","componentCallback","EventEmitter","locationInput","gettingCurrentLocationFlag","dropdownOpen","recentDropdownOpen","queryItems","isSettingsError","settingsErrorMsg","settings","labels","moduleinit","selectedDataIndex","recentSearchData","userSelectedOption","defaultSettings","currentLocationText","recentSearchesText","locationsText","searchPlaceholderText","geoPredictionServerUrl","geoLatLangServiceUrl","geoLocDetailServerUrl","geoCountryRestriction","geoRadius","serverResponseListHierarchy","serverResponseatLangHierarchy","serverResponseDetailHierarchy","resOnSearchButtonClickOnly","useGoogleGeoApi","inputPlaceholderText","inputString","showSearchButton","showRecentSearch","showCurrentLocation","recentStorageName","noOfRecentSearchSave","currentLocIconUrl","searchIconUrl","locationIconUrl","ngOnInit","moduleInit","ngOnChanges","searchinputClickCallback","event","target","select","searchinputCallback","inputVal","keyCode","navigateInList","getListQuery","userQuerySubmit","activeListNode","index","active","selectedListNode","setRecentLocation","getPlaceLocationInfo","closeAutocomplete","nativeElement","contains","selectedOption","emit","response","reason","currentLocationSelected","getCurrentLocationInfo","setUserSettings","getRecentLocations","processSearchQuery","_tempObj","userSettings","_i","keys_1","keys","undefined","_tempParams","updateListItem","extractServerList","arrayList","_tempData","arrayList_1","listData","arrayIndex","selectedData","formatted_address","Input","Output","Component","selector","template","styles","host","(document:click)","encapsulation","ViewEncapsulation","None","ElementRef"],"mappings":"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","file":"ngx-geoautocomplete.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/common/http\"), require(\"@angular/forms\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/common\", \"@angular/common/http\", \"@angular/forms\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngxGeoautocomplete\"] = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/common/http\"), require(\"@angular/forms\"));\n\telse\n\t\troot[\"ngxGeoautocomplete\"] = factory(root[\"ng\"][\"core\"], root[\"ng\"][\"common\"], root[\"ng\"][\"commonHttp\"], root[\"ng\"][\"forms\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__8__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","export interface MyGlobal {\n\n}\n\nexport abstract class GlobalRef {\n  abstract get nativeGlobal(): MyGlobal;\n}\n\nexport class BrowserGlobalRef extends GlobalRef {\n  get nativeGlobal(): MyGlobal {\n  \treturn window as MyGlobal;\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import {Injectable, PLATFORM_ID, Inject} from '@angular/core';\nimport {isPlatformBrowser} from '@angular/common';\nimport {GlobalRef} from './windowRef.service';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {LocalStorageService} from './storage.service';\n\n@Injectable()\nexport class AutoCompleteSearchService {\n  constructor(private _http: HttpClient, @Inject(PLATFORM_ID) private platformId: Object,\n              private _global: GlobalRef, private _localStorageService: LocalStorageService) {\n\n  }\n\n  getPredictions(url: string, query: string): Promise<any> {\n    return new Promise(resolve => {\n      this._http.get(url, {params: new HttpParams().set(\"query\", query)})\n        .subscribe((data: any) => {\n          if (data) {\n            resolve(data);\n          } else {\n            resolve(false);\n          }\n        });\n    });\n  }\n\n\n  getLatLngDetail(url: string, lat: string, lng: string): Promise<any> {\n    return new Promise(resolve => {\n      this._http.get(url, {params: new HttpParams().set(\"lat\", lat).set(\"lng\", lng)})\n        .subscribe((data: any) => {\n          if (data) {\n            resolve(data);\n          } else {\n            resolve(false);\n          }\n        });\n    });\n  }\n\n\n  getPlaceDetails(url: string, placeId: string): Promise<any> {\n    return new Promise(resolve => {\n      this._http.get(url, {params: new HttpParams().set(\"query\", placeId)})\n        .subscribe((data: any) => {\n          if (data) {\n            resolve(data);\n          } else {\n            resolve(false);\n          }\n        });\n    });\n  }\n\n  getGeoCurrentLocation(): Promise<any> {\n    return new Promise(resolve => {\n      if (isPlatformBrowser(this.platformId)) {\n        let _window: any = this._global.nativeGlobal;\n        if (_window.navigator.geolocation) {\n          _window.navigator.geolocation.getCurrentPosition((pos) => {\n            let latlng: any = {lat: parseFloat(pos.coords.latitude + ''), lng: parseFloat(pos.coords.longitude + '')};\n            resolve(latlng);\n          }, (error) => {\n            resolve(false);\n          });\n        } else {\n          resolve(false);\n        }\n      } else {\n        resolve(false);\n      }\n    });\n  }\n\n  getGeoLatLngDetail(latlng: any): Promise<any> {\n    return new Promise(resolve => {\n      if (isPlatformBrowser(this.platformId)) {\n        let _window: any = this._global.nativeGlobal;\n        let geocoder: any = new _window.google.maps.Geocoder;\n        geocoder.geocode({'location': latlng}, (results, status) => {\n          if (status === 'OK') {\n            this.getGeoPlaceDetail(results[0].place_id).then((result) => {\n              if (result) {\n                resolve(result);\n              } else {\n                resolve(false);\n              }\n            });\n          } else {\n            resolve(false);\n          }\n        });\n      } else {\n        resolve(false);\n      }\n    });\n  }\n\n  getGeoPrediction(params: any): Promise<any> {\n    return new Promise(resolve => {\n      if (isPlatformBrowser(this.platformId)) {\n        let _window: any = this._global.nativeGlobal;\n        let placesService: any = new _window.google.maps.places.AutocompleteService();\n        let queryInput: any = {};\n        let promiseArr: any = [];\n        if (params.countryRestriction.length) {\n          queryInput = {\n            input: params.query,\n            componentRestrictions: {country: params.countryRestriction},\n          };\n        } else {\n          queryInput = {\n            input: params.query\n          };\n        }\n        if (params.geoLocation) {\n          queryInput.location = new _window.google.maps.LatLng(parseFloat(params.geoLocation[0]), parseFloat(params.geoLocation[1]));\n          queryInput.radius = params.radius;\n        }\n        if (params.geoTypes.length) {\n          for (let i: number = 0; i < params.geoTypes.length; i++) {\n            let _tempQuery: any = queryInput;\n            _tempQuery['types'] = new Array(params.geoTypes[i]);\n            promiseArr.push(this.geoPredictionCall(placesService, _tempQuery));\n          }\n        } else {\n          promiseArr.push(this.geoPredictionCall(placesService, queryInput));\n        }\n\n        Promise.all(promiseArr).then(values => {\n          let val: any = values;\n          if (val.length > 1) {\n            let _tempArr: any = [];\n            for (let j: number = 0; j < val.length; j++) {\n              if (val[j] && val[j].length) {\n                _tempArr = _tempArr.concat(val[j]);\n              }\n            }\n            _tempArr = this.getUniqueResults(_tempArr);\n            resolve(_tempArr);\n          } else {\n            resolve(values[0]);\n          }\n        });\n      } else {\n        resolve(false);\n      }\n    });\n  }\n\n  getGeoPlaceDetail(placeId: string): Promise<any> {\n    return new Promise(resolve => {\n      if (isPlatformBrowser(this.platformId)) {\n        let _window: any = this._global.nativeGlobal;\n        let placesService: any = new _window.google.maps.places.PlacesService(document.createElement('div'));\n        placesService.getDetails({'placeId': placeId}, (result: any, status: any) => {\n          if (result == null || result.length === 0) {\n            this.getGeoPaceDetailByReferance(result.referance).then((referanceData: any) => {\n              if (!referanceData) {\n                resolve(false);\n              } else {\n                resolve(referanceData);\n              }\n            });\n          } else {\n            resolve(result);\n          }\n        });\n      } else {\n        resolve(false);\n      }\n    });\n  }\n\n  getGeoPaceDetailByReferance(referance: string): Promise<any> {\n    return new Promise(resolve => {\n      if (isPlatformBrowser(this.platformId)) {\n        let _window: any = this._global.nativeGlobal;\n        let placesService: any = new _window.google.maps.places.PlacesService();\n        placesService.getDetails({'reference': referance}, (result: any, status: any) => {\n          if (status === _window.google.maps.places.PlacesServiceStatus.OK) {\n            resolve(result);\n          } else {\n            resolve(false);\n          }\n        });\n      } else {\n        resolve(false);\n      }\n    });\n  }\n\n  addRecentList(localStorageName: string, result: any, itemSavedLength: number): any {\n    this.getRecentList(localStorageName).then((data: any) => {\n      if (data) {\n        for (let i: number = 0; i < data.length; i++) {\n          if (data[i].description === result.description) {\n            data.splice(i, 1);\n            break;\n          }\n        }\n        data.unshift(result);\n        if (data.length > itemSavedLength) {\n          data.pop();\n        }\n        this._localStorageService.setItem(localStorageName, JSON.stringify(data));\n      }\n    });\n  }\n\n\n  getRecentList(localStorageName: string): Promise<any> {\n    return new Promise(resolve => {\n      let value: any = this._localStorageService.getItem(localStorageName);\n      if (value) {\n        value = JSON.parse(value);\n      } else {\n        value = [];\n      }\n      resolve(value);\n    });\n  }\n\n  private getUniqueResults(arr: any): any {\n    return Array.from(arr.reduce((m, t) => m.set(t.place_id, t), new Map()).values());\n  }\n\n  private geoPredictionCall(placesService: any, queryInput: any): Promise<any> {\n    let _window: any = this._global.nativeGlobal;\n    return new Promise(resolve => {\n      placesService.getPlacePredictions(queryInput, (result: any, status: any) => {\n        if (status === _window.google.maps.places.PlacesServiceStatus.OK) {\n          resolve(result);\n        } else {\n          resolve(false);\n        }\n      });\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class LocalStorageService {\n\n  setItem(key: any, value: any) : any {\n    localStorage.setItem(key, value);\n  }\n\n  getItem(key: any): any {\n    return localStorage.getItem(key);\n\n  }\n\n  removeItem(key: any): any {\n    localStorage.removeItem(key);\n  }\n\n}\n","export * from './ngx-geoautocomplete.module';\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { AutoCompleteComponent } from './auto-complete.component';\nimport { AutoCompleteSearchService } from './auto-complete.service';\nimport { LocalStorageService } from './storage.service';\nimport { GlobalRef, BrowserGlobalRef } from './windowRef.service';\n@NgModule({\n  declarations: [\n    AutoCompleteComponent\n  ],\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    FormsModule\n  ],\n  exports: [\n    AutoCompleteComponent\n  ],\n  providers : [{ provide: GlobalRef, useClass: BrowserGlobalRef }, AutoCompleteSearchService, LocalStorageService]\n})\nexport class NgxGeoautocompleteModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgxGeoautocompleteModule\n    };\n  }\n\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","import {\n  Component,\n  PLATFORM_ID,\n  Inject,\n  Input,\n  Output,\n  EventEmitter,\n  OnInit,\n  OnChanges,\n  ElementRef, ViewEncapsulation\n} from '@angular/core';\nimport {isPlatformBrowser} from '@angular/common';\nimport {GlobalRef} from './windowRef.service';\nimport {AutoCompleteSearchService} from './auto-complete.service';\n\nexport interface SettingsLabels {\n  currentLocationText?: string;\n  recentSearchesText?: string;\n  locationsText?: string;\n  searchPlaceholderText?: string;\n}\n\nexport interface Settings {\n  labels: SettingsLabels;\n  geoPredictionServerUrl?: string;\n  geoLatLangServiceUrl?: string;\n  geoLocDetailServerUrl?: string;\n  geoCountryRestriction?: any;\n  geoTypes?: any;\n  geoLocation?: any;\n  geoRadius?: number;\n  serverResponseListHierarchy?: any;\n  serverResponseatLangHierarchy?: any;\n  serverResponseDetailHierarchy?: any;\n  resOnSearchButtonClickOnly?: boolean;\n  useGoogleGeoApi?: boolean;\n  inputPlaceholderText?: string;\n  inputString?: string;\n  showSearchButton?: boolean;\n  showRecentSearch?: boolean;\n  showCurrentLocation?: boolean;\n  recentStorageName?: string;\n  noOfRecentSearchSave?: number;\n  currentLocIconUrl?: string;\n  searchIconUrl?: string;\n  locationIconUrl?: string;\n}\n\n@Component({\n  selector: 'ngxgeo-autocomplete',\n  template: `\n    <div class=\"custom-autocomplete\" *ngIf=\"!isSettingsError\">\n      <div class=\"custom-autocomplete__container\">\n        <div class=\"custom-autocomplete__input\" [ngClass]=\"{'button-included':settings.showSearchButton}\">\n          <div class=\"input-padding-container\">\n            <button class=\"submit-button btn btn-primary\" *ngIf=\"settings.showSearchButton\" (click)=\"processSearchQuery()\">\n              {{settings.labels.searchPlaceholderText}}\n            </button>\n            <div class=\"search-box-container\">\n            <input  [(ngModel)]=\"locationInput\" (click)=\"searchinputClickCallback($event)\"\n                   (keyup)=\"searchinputCallback($event)\"\n                   type=\"search\" name=\"search\" id=\"search_places\" placeholder=\"{{settings.inputPlaceholderText}}\"\n                   autocomplete=\"off\" />\n            </div>\n          </div>\n        </div>\n        <pre class=\"custom-autocomplete__loader\" *ngIf=\"gettingCurrentLocationFlag\"><i class=\"gif\"></i></pre>\n      </div>\n      <ul class=\"custom-autocomplete__dropdown\"\n          *ngIf=\"dropdownOpen && (settings.showCurrentLocation || queryItems.length)\">\n        <li *ngIf=\"settings.showCurrentLocation\" class=\"currentlocation\">\n          <a href=\"javascript:;\" (click)=\"currentLocationSelected()\">\n            <i class=\"location-icon\" *ngIf=\"settings.currentLocIconUrl\"\n               [ngStyle]=\"{'background-image': 'url(' + settings.currentLocIconUrl + ')'}\"></i>{{settings.labels.currentLocationText}}\n            <i class=\"location-icon current-default-icon\" *ngIf=\"!settings.currentLocIconUrl\"></i>\n          </a>\n        </li>\n        <li class=\"heading heading-recent\" *ngIf=\"!recentDropdownOpen && queryItems.length\"><span>{{settings.labels.locationsText}}</span><span\n          class=\"line line-location\"></span></li>\n        <li class=\"heading heading-recent\" *ngIf=\"recentDropdownOpen && queryItems.length\">\n          <span>{{settings.labels.recentSearchesText}}</span><span class=\"line line-recent\"></span>\n        </li>\n        <li *ngFor=\"let data of queryItems;let $index = index\" [ngClass]=\"{'active': data.active}\">\n        <a href=\"javascript:;\" (mouseover)=\"activeListNode($index)\" (click)=\"selectedListNode($index)\">\n            <i class=\"custom-icon\" *ngIf=\"settings.locationIconUrl\"\n               [ngStyle]=\"{'background-image': 'url(' + settings.locationIconUrl + ')'}\"></i>\n            <i class=\"custom-icon location-default-icon\" *ngIf=\"!settings.locationIconUrl\"></i>\n            <span class=\"main-text\">\n                {{data.structured_formatting?.main_text ? data.structured_formatting.main_text : data.description}}\n              </span>\n            <span class=\"secondary_text\"\n                  *ngIf=\"data.structured_formatting?.secondary_text\">{{data.structured_formatting.secondary_text}}</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"custom-autocomplete--error\" *ngIf=\"isSettingsError\">{{settingsErrorMsg}}</div>\n  `,\n  styles: [`\n    .custom-autocomplete {\n      display: block;\n      position: relative;\n      width: 100%;\n      float: left;\n    }\n\n    .custom-autocomplete a, .custom-autocomplete a:hover {\n      text-decoration: none;\n    }\n\n    .custom-autocomplete--error {\n      color: #fff;\n      background-color: #fd4f4f;\n      padding: 10px;\n    }\n\n    .custom-autocomplete__dropdown {\n      position: absolute;\n      background: #fff;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      list-style: none;\n      border: 1px solid #909090;\n      z-index: 99;\n      top: 50px;\n    }\n\n    .custom-autocomplete__dropdown li {\n      float: left;\n      width: 100%;\n      font-size: 15px;\n    }\n\n    .custom-autocomplete__dropdown a {\n      width: 100%;\n      color: #353535;\n      float: left;\n      padding: 8px 10px;\n    }\n\n    .custom-autocomplete__dropdown a:hover {\n      text-decoration: none;\n    }\n\n    .custom-autocomplete__dropdown .currentlocation {\n      text-transform: uppercase;\n      letter-spacing: 1px;\n    }\n\n    .custom-autocomplete__dropdown .currentlocation a {\n      padding: 10px 10px 10px 13px;\n      font-size: 14px;\n    }\n\n    .custom-autocomplete__dropdown .currentlocation a:hover {\n      background-color: #eeeded;\n    }\n\n    .custom-autocomplete__dropdown .currentlocation .location-icon {\n      width: 16px;\n      height: 16px;\n      background-size: cover;\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDg3Ljg1OSA4Ny44NTkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg3Ljg1OSA4Ny44NTk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iTWFya2VyIj4KCQk8Zz4KCQkJPHBhdGggZD0iTTgwLjkzOCw0MC40ODNDNzkuMjk0LDIyLjcxMyw2NS4wOTMsOC41MjgsNDcuMzEyLDYuOTE3VjBoLTYuNzU3djYuOTE4QzIyLjc3Myw4LjUyOCw4LjU3MiwyMi43MTQsNi45Myw0MC40ODNIMHY2Ljc1NyAgICAgaDYuOTE5YzEuNTgyLDE3LjgzOCwxNS44MSwzMi4wODcsMzMuNjM2LDMzLjcwMXY2LjkxOGg2Ljc1N3YtNi45MThjMTcuODI2LTEuNjEzLDMyLjA1NC0xNS44NjIsMzMuNjM2LTMzLjcwMWg2LjkxMXYtNi43NTcgICAgIEg4MC45Mzh6IE00Ny4zMTIsNzQuMTQ2di02LjU1OGgtNi43NTd2Ni41NThDMjYuNDU3LDcyLjU4LDE1LjI0Miw2MS4zNDUsMTMuNzA4LDQ3LjI0aDYuNTY2di02Ljc1N2gtNi41NDkgICAgIGMxLjU5MS0xNC4wNDEsMTIuNzc3LTI1LjIxLDI2LjgyOS0yNi43NzF2Ni41NjRoNi43NTZ2LTYuNTY0YzE0LjA1MywxLjU2LDI1LjIzOSwxMi43MjksMjYuODMsMjYuNzcxaC02LjU1NnY2Ljc1N2g2LjU3MyAgICAgQzcyLjYyNSw2MS4zNDUsNjEuNDA5LDcyLjU4LDQ3LjMxMiw3NC4xNDZ6IE00My45MzQsMzMuNzI3Yy01LjU5NSwwLTEwLjEzNSw0LjUzMy0xMC4xMzUsMTAuMTMxICAgICBjMCw1LjU5OSw0LjU0LDEwLjEzOSwxMC4xMzUsMTAuMTM5czEwLjEzNC00LjU0LDEwLjEzNC0xMC4xMzlDNTQuMDY4LDM4LjI2LDQ5LjUyNywzMy43MjcsNDMuOTM0LDMzLjcyN3oiIGZpbGw9IiMwMDAwMDAiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==);\n      float: left;\n      margin-right: 10px;\n    }\n\n    .custom-autocomplete__dropdown .heading {\n      padding: 13px 10px 7px 13px;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 13px;\n      position: relative;\n    }\n\n    .custom-autocomplete__dropdown .heading .line {\n      border-top: 1px solid #c2c2c2;\n      width: calc(100% - 115px);\n      display: inline-block;\n      position: absolute;\n      top: 21px;\n      left: 100px;\n    }\n\n    .custom-autocomplete__dropdown .heading .line-location {\n      left: 100px;\n      top: 16px;\n      width: calc(100% - 110px);\n    }\n\n    .custom-autocomplete__dropdown .heading .line-recent {\n      left: 158px;\n      top: 16px;\n      width: calc(100% - 168px);\n    }\n\n    .custom-autocomplete__dropdown .heading-recent {\n      padding-top: 8px;\n    }\n\n    .custom-autocomplete__dropdown .custom-icon {\n      width: 16px;\n      height: 16px;\n      background-size: cover;\n      vertical-align: bottom;\n      display: inline-block;\n      margin-right: 4px;\n    }\n\n    .custom-autocomplete__dropdown .main-text {\n      padding-right: 4px;\n      font-weight: 700;\n    }\n\n    .custom-autocomplete__dropdown .secondary_text {\n      font-size: 12px;\n      color: #909090;\n    }\n\n    .custom-autocomplete__dropdown .active a {\n      background-color: #ffe0cd;\n    }\n\n    .custom-autocomplete__loader {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      background: white;\n    }\n\n    .custom-autocomplete__loader .gif {\n      background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLXJpcHBsZSI+PHBhdGggZmlsbD0ibm9uZSIgY2xhc3M9ImJrIiBkPSJNMCAwaDEwMHYxMDBIMHoiLz48Zz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBkdXI9IjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjBzIiBrZXlUaW1lcz0iMDswLjMzOzEiIHZhbHVlcz0iMTsxOzAiLz48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgc3Ryb2tlPSIjYWZhZmI3IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwcyIga2V5VGltZXM9IjA7MC4zMzsxIiB2YWx1ZXM9IjA7MjI7NDQiLz48L2NpcmNsZT48L2c+PGc+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZHVyPSIycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIxcyIga2V5VGltZXM9IjA7MC4zMzsxIiB2YWx1ZXM9IjE7MTswIi8+PGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNDAiIHN0cm9rZT0iI2ZmYTYzMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMXMiIGtleVRpbWVzPSIwOzAuMzM7MSIgdmFsdWVzPSIwOzIyOzQ0Ii8+PC9jaXJjbGU+PC9nPjwvc3ZnPg==);\n      background-size: cover;\n      width: 30px;\n      height: 30px;\n      top: 50%;\n      left: 50%;\n      transform: translate3d(-50%, -50%, 0);\n      position: absolute;\n    }\n\n    .custom-autocomplete__container, .custom-autocomplete__input {\n      width: inherit;\n      float: inherit;\n      position: relative;\n    }\n\n    .custom-autocomplete__input {\n      border-radius: 2px;\n      box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.24);\n    }\n\n    .input-padding-container {\n      padding: 10px;\n    }\n\n    .custom-autocomplete__input input {\n      font-family: Roboto;\n      color: #2a2a2a;\n      margin: 0;\n      padding: 10px;\n      height: 50px;\n      border-radius: 2px;\n      border: solid 1px #e4e4e4;\n      display: block;\n      width: 100%;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      font-size: 16px;\n\n    &\n    ::-webkit-input-placeholder {\n      color: #868484;\n    }\n\n    &\n    :-moz-placeholder { /* Firefox 18- */\n      color: #868484;\n    }\n\n    &\n    ::-moz-placeholder { /* Firefox 19+ */\n      color: #868484;\n    }\n\n    &\n    :-ms-input-placeholder {\n      color: #868484;\n    }\n\n    }\n\n    .button-included input {\n      padding-right: 60px;\n    }\n\n    .search-default-icon {\n      background-image: url('data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDU2Ljk2NiA1Ni45NjYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDU2Ljk2NiA1Ni45NjY7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KPHBhdGggZD0iTTU1LjE0Niw1MS44ODdMNDEuNTg4LDM3Ljc4NmMzLjQ4Ni00LjE0NCw1LjM5Ni05LjM1OCw1LjM5Ni0xNC43ODZjMC0xMi42ODItMTAuMzE4LTIzLTIzLTIzcy0yMywxMC4zMTgtMjMsMjMgIHMxMC4zMTgsMjMsMjMsMjNjNC43NjEsMCw5LjI5OC0xLjQzNiwxMy4xNzctNC4xNjJsMTMuNjYxLDE0LjIwOGMwLjU3MSwwLjU5MywxLjMzOSwwLjkyLDIuMTYyLDAuOTIgIGMwLjc3OSwwLDEuNTE4LTAuMjk3LDIuMDc5LTAuODM3QzU2LjI1NSw1NC45ODIsNTYuMjkzLDUzLjA4LDU1LjE0Niw1MS44ODd6IE0yMy45ODQsNmM5LjM3NCwwLDE3LDcuNjI2LDE3LDE3cy03LjYyNiwxNy0xNywxNyAgcy0xNy03LjYyNi0xNy0xN1MxNC42MSw2LDIzLjk4NCw2eiIgZmlsbD0iIzAwMDAwMCIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K');\n    }\n\n    .location-default-icon {\n      background-image: url('data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4Ny43MjQgNDg3LjcyNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg3LjcyNCA0ODcuNzI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTIzNi45MjUsMC4xMjRjLTk2LjksMy40LTE3Ny40LDc5LTE4Ni43LDE3NS41Yy0xLjksMTkuMy0wLjgsMzgsMi42LDU1LjlsMCwwYzAsMCwwLjMsMi4xLDEuMyw2LjEgICAgYzMsMTMuNCw3LjUsMjYuNCwxMy4xLDM4LjZjMTkuNSw0Ni4yLDY0LjYsMTIzLjUsMTY1LjgsMjA3LjZjNi4yLDUuMiwxNS4zLDUuMiwyMS42LDBjMTAxLjItODQsMTQ2LjMtMTYxLjMsMTY1LjktMjA3LjcgICAgYzUuNy0xMi4yLDEwLjEtMjUuMSwxMy4xLTM4LjZjMC45LTMuOSwxLjMtNi4xLDEuMy02LjFsMCwwYzIuMy0xMiwzLjUtMjQuMywzLjUtMzYuOUM0MzguNDI1LDg0LjcyNCwzNDcuNTI1LTMuNzc2LDIzNi45MjUsMC4xMjQgICAgeiBNMjQzLjgyNSwyOTEuMzI0Yy01Mi4yLDAtOTQuNS00Mi4zLTk0LjUtOTQuNXM0Mi4zLTk0LjUsOTQuNS05NC41czk0LjUsNDIuMyw5NC41LDk0LjVTMjk2LjAyNSwyOTEuMzI0LDI0My44MjUsMjkxLjMyNHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K');\n    }\n\n    .current-default-icon {\n      background-image: url('data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDg3Ljg1OSA4Ny44NTkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDg3Ljg1OSA4Ny44NTk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iTWFya2VyIj4KCQk8Zz4KCQkJPHBhdGggZD0iTTgwLjkzOCw0MC40ODNDNzkuMjk0LDIyLjcxMyw2NS4wOTMsOC41MjgsNDcuMzEyLDYuOTE3VjBoLTYuNzU3djYuOTE4QzIyLjc3Myw4LjUyOCw4LjU3MiwyMi43MTQsNi45Myw0MC40ODNIMHY2Ljc1NyAgICAgaDYuOTE5YzEuNTgyLDE3LjgzOCwxNS44MSwzMi4wODcsMzMuNjM2LDMzLjcwMXY2LjkxOGg2Ljc1N3YtNi45MThjMTcuODI2LTEuNjEzLDMyLjA1NC0xNS44NjIsMzMuNjM2LTMzLjcwMWg2LjkxMXYtNi43NTcgICAgIEg4MC45Mzh6IE00Ny4zMTIsNzQuMTQ2di02LjU1OGgtNi43NTd2Ni41NThDMjYuNDU3LDcyLjU4LDE1LjI0Miw2MS4zNDUsMTMuNzA4LDQ3LjI0aDYuNTY2di02Ljc1N2gtNi41NDkgICAgIGMxLjU5MS0xNC4wNDEsMTIuNzc3LTI1LjIxLDI2LjgyOS0yNi43NzF2Ni41NjRoNi43NTZ2LTYuNTY0YzE0LjA1MywxLjU2LDI1LjIzOSwxMi43MjksMjYuODMsMjYuNzcxaC02LjU1NnY2Ljc1N2g2LjU3MyAgICAgQzcyLjYyNSw2MS4zNDUsNjEuNDA5LDcyLjU4LDQ3LjMxMiw3NC4xNDZ6IE00My45MzQsMzMuNzI3Yy01LjU5NSwwLTEwLjEzNSw0LjUzMy0xMC4xMzUsMTAuMTMxICAgICBjMCw1LjU5OSw0LjU0LDEwLjEzOSwxMC4xMzUsMTAuMTM5czEwLjEzNC00LjU0LDEwLjEzNC0xMC4xMzlDNTQuMDY4LDM4LjI2LDQ5LjUyNywzMy43MjcsNDMuOTM0LDMzLjcyN3oiIGZpbGw9IiMwMDAwMDAiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==');\n    }\n\n    .custom-autocomplete__container .searchpage {\n      margin-top: 0;\n      padding: 0;\n      height: 55px;\n      border: none;\n    }\n\n    .search-box-container {\n      overflow: hidden;\n      width: 75%;\n      padding-right: 15px;\n    }\n\n    .submit-button {\n      float: right;\n      width: 25%;\n      height: 50px;\n    }\n  `],\n  host: {\n    '(document:click)': 'closeAutocomplete($event)',\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class AutoCompleteComponent implements OnInit, OnChanges {\n  @Input() userSettings: Settings;\n  @Output()\n  componentCallback: EventEmitter<any> = new EventEmitter<any>();\n\n  public locationInput: string = '';\n  public gettingCurrentLocationFlag: boolean = false;\n  public dropdownOpen: boolean = false;\n  public recentDropdownOpen: boolean = false;\n  public queryItems: any = [];\n  public isSettingsError: boolean = false;\n  public settingsErrorMsg: string = '';\n  public settings: Settings = {\n    labels: {}\n  };\n  private moduleinit: boolean = false;\n  private selectedDataIndex: number = -1;\n  private recentSearchData: any = [];\n  private userSelectedOption: any = '';\n  private defaultSettings: Settings = {\n    labels: {\n      currentLocationText: 'Use Current Location',\n      recentSearchesText: 'Recent Searches',\n      locationsText: 'Locations',\n      searchPlaceholderText: 'Search'\n    },\n    geoPredictionServerUrl: '',\n    geoLatLangServiceUrl: '',\n    geoLocDetailServerUrl: '',\n    geoCountryRestriction: [],\n    geoTypes: [],\n    geoLocation: [],\n    geoRadius: 0,\n    serverResponseListHierarchy: [],\n    serverResponseatLangHierarchy: [],\n    serverResponseDetailHierarchy: [],\n    resOnSearchButtonClickOnly: false,\n    useGoogleGeoApi: true,\n    inputPlaceholderText: 'Enter Area Name',\n    inputString: '',\n    showSearchButton: true,\n    showRecentSearch: true,\n    showCurrentLocation: true,\n    recentStorageName: 'recentSearches',\n    noOfRecentSearchSave: 5,\n    currentLocIconUrl: '',\n    searchIconUrl: '',\n    locationIconUrl: ''\n  };\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object,\n              private _elmRef: ElementRef, private _global: GlobalRef,\n              private _autoCompleteSearchService: AutoCompleteSearchService) {\n\n  }\n\n  ngOnInit(): any {\n    if (!this.moduleinit) {\n      this.moduleInit();\n    }\n  }\n\n  ngOnChanges(): any {\n    this.moduleinit = true;\n    this.moduleInit();\n  }\n\n\n  //function called when click event happens in input box. (Binded with view)\n  searchinputClickCallback(event: any): any {\n    event.target.select();\n    this.searchinputCallback(event);\n  }\n\n  //function called when there is a change in input. (Binded with view)\n  searchinputCallback(event: any): any {\n    let inputVal: any = this.locationInput;\n    if ((event.keyCode === 40) || (event.keyCode === 38) || (event.keyCode === 13)) {\n      this.navigateInList(event.keyCode);\n    } else if (inputVal) {\n      this.getListQuery(inputVal);\n    } else {\n      this.queryItems = [];\n      if (this.userSelectedOption) {\n        this.userQuerySubmit('false');\n      }\n      this.userSelectedOption = '';\n      if (this.settings.showRecentSearch) {\n        this.showRecentSearch();\n      } else {\n        this.dropdownOpen = false;\n      }\n    }\n  }\n\n  //function to execute when user hover over autocomplete list.(binded with view)\n  activeListNode(index: number): any {\n    for (let i: number = 0; i < this.queryItems.length; i++) {\n      if (index === i) {\n        this.queryItems[i].active = true;\n        this.selectedDataIndex = index;\n      } else {\n        this.queryItems[i].active = false;\n      }\n    }\n  }\n\n  //function to execute when user select the autocomplete list.(binded with view)\n  selectedListNode(index: number): any {\n    this.dropdownOpen = false;\n    if (this.recentDropdownOpen) {\n      this.setRecentLocation(this.queryItems[index]);\n    } else {\n      this.getPlaceLocationInfo(this.queryItems[index]);\n    }\n  }\n\n  //function to close the autocomplete list when clicked outside. (binded with view)\n  closeAutocomplete(event: any): any {\n    if (!this._elmRef.nativeElement.contains(event.target)) {\n      this.selectedDataIndex = -1;\n      this.dropdownOpen = false;\n    }\n  }\n\n  //function to manually trigger the callback to parent component when clicked search button.\n  userQuerySubmit(selectedOption?: any): any {\n    let _userOption: any = selectedOption === 'false' ? '' : this.userSelectedOption;\n    if (_userOption) {\n      this.componentCallback.emit({'response': true, 'data': this.userSelectedOption});\n    } else {\n      this.componentCallback.emit({'response': false, 'reason': 'No user input'});\n    }\n  }\n\n  //function to get user current location from the device.\n  currentLocationSelected(): any {\n    if (isPlatformBrowser(this.platformId)) {\n      this.gettingCurrentLocationFlag = true;\n      this.dropdownOpen = false;\n      this._autoCompleteSearchService.getGeoCurrentLocation().then((result: any) => {\n        if (!result) {\n          this.gettingCurrentLocationFlag = false;\n          this.componentCallback.emit({'response': false, 'reason': 'Failed to get geo location'});\n        } else {\n          this.getCurrentLocationInfo(result);\n        }\n      });\n    }\n  }\n\n  //module initialization happens. function called by ngOninit and ngOnChange\n  private moduleInit(): any {\n    this.settings = this.setUserSettings();\n    //condition to check if Radius is set without location detail.\n    if (this.settings.geoRadius) {\n      if (this.settings.geoLocation.length !== 2) {\n        this.isSettingsError = true;\n        this.settingsErrorMsg = this.settingsErrorMsg +\n          'Radius should be used with GeoLocation. Please use \"geoLocation\" key to set lat and lng. ';\n      }\n    }\n\n    //condition to check if lat and lng is set and radious is not set then it will set to 20,000KM by default\n    if ((this.settings.geoLocation.length === 2) && !this.settings.geoRadius) {\n      this.settings.geoRadius = 20000000;\n    }\n    if (this.settings.showRecentSearch) {\n      this.getRecentLocations();\n    }\n    if (!this.settings.useGoogleGeoApi) {\n      if (!this.settings.geoPredictionServerUrl) {\n        this.isSettingsError = true;\n        this.settingsErrorMsg = this.settingsErrorMsg +\n          'Prediction custom server url is not defined. Please use \"geoPredictionServerUrl\" key to set. ';\n      }\n      if (!this.settings.geoLatLangServiceUrl) {\n        this.isSettingsError = true;\n        this.settingsErrorMsg = this.settingsErrorMsg +\n          'Latitude and longitude custom server url is not defined. Please use \"geoLatLangServiceUrl\" key to set. ';\n      }\n      if (!this.settings.geoLocDetailServerUrl) {\n        this.isSettingsError = true;\n        this.settingsErrorMsg = this.settingsErrorMsg +\n          'Location detail custom server url is not defined. Please use \"geoLocDetailServerUrl\" key to set. ';\n      }\n    }\n    this.locationInput = this.settings.inputString;\n  }\n\n  //function to process the search query when pressed enter.\n  private processSearchQuery(): any {\n    if (this.queryItems.length) {\n      if (this.selectedDataIndex > -1) {\n        this.selectedListNode(this.selectedDataIndex);\n      } else {\n        this.selectedListNode(0);\n      }\n    }\n  }\n\n  //function to set user settings if it is available.\n  private setUserSettings(): Settings {\n    let _tempObj: any = {};\n    if (this.userSettings && typeof(this.userSettings) === 'object') {\n      let keys: string[] = Object.keys(this.defaultSettings);\n      for (let value of keys) {\n        _tempObj[value] = (this.userSettings[value] !== undefined) ? this.userSettings[value] : this.defaultSettings[value];\n      }\n      return _tempObj;\n    } else {\n      return this.defaultSettings;\n    }\n  }\n\n  //function to get the autocomplete list based on user input.\n  private getListQuery(value: string): any {\n    this.recentDropdownOpen = false;\n    if (this.settings.useGoogleGeoApi) {\n      let _tempParams: any = {\n        'query': value,\n        'countryRestriction': this.settings.geoCountryRestriction,\n        'geoTypes': this.settings.geoTypes\n      };\n      if (this.settings.geoLocation.length === 2) {\n        _tempParams.geoLocation = this.settings.geoLocation;\n        _tempParams.radius = this.settings.geoRadius;\n      }\n      this._autoCompleteSearchService.getGeoPrediction(_tempParams).then((result) => {\n        this.updateListItem(result);\n      });\n    } else {\n      this._autoCompleteSearchService.getPredictions(this.settings.geoPredictionServerUrl, value).then((result) => {\n        result = this.extractServerList(this.settings.serverResponseListHierarchy, result);\n        this.updateListItem(result);\n      });\n    }\n  }\n\n  //function to extratc custom data which is send by the server.\n  private extractServerList(arrayList: any, data: any): any {\n    if (arrayList.length) {\n      let _tempData: any = data;\n      for (let key of arrayList) {\n        _tempData = _tempData[key];\n      }\n      return _tempData;\n    } else {\n      return data;\n    }\n  }\n\n  //function to update the predicted list.\n  private updateListItem(listData: any): any {\n    this.queryItems = listData ? listData : [];\n    this.dropdownOpen = true;\n  }\n\n  //function to show the recent search result.\n  private showRecentSearch(): any {\n    this.recentDropdownOpen = true;\n    this.dropdownOpen = true;\n    this._autoCompleteSearchService.getRecentList(this.settings.recentStorageName).then((result: any) => {\n      if (result) {\n        this.queryItems = result;\n      } else {\n        this.queryItems = [];\n      }\n    });\n  }\n\n  //function to navigate through list when up and down keyboard key is pressed;\n  private navigateInList(keyCode: number): any {\n    let arrayIndex: number = 0;\n    //arrow down\n    if (keyCode === 40) {\n      if (this.selectedDataIndex >= 0) {\n        arrayIndex = ((this.selectedDataIndex + 1) <= (this.queryItems.length - 1)) ? (this.selectedDataIndex + 1) : 0;\n      }\n      this.activeListNode(arrayIndex);\n    } else if (keyCode === 38) {//arrow up\n      if (this.selectedDataIndex >= 0) {\n        arrayIndex = ((this.selectedDataIndex - 1) >= 0) ? (this.selectedDataIndex - 1) : (this.queryItems.length - 1);\n      } else {\n        arrayIndex = this.queryItems.length - 1;\n      }\n      this.activeListNode(arrayIndex);\n    } else {\n      this.processSearchQuery();\n    }\n  }\n\n  //function to execute to get location detail based on latitude and longitude.\n  private getCurrentLocationInfo(latlng: any): any {\n    if (this.settings.useGoogleGeoApi) {\n      this._autoCompleteSearchService.getGeoLatLngDetail(latlng).then((result: any) => {\n        if (result) {\n          this.setRecentLocation(result);\n        }\n        this.gettingCurrentLocationFlag = false;\n      });\n    } else {\n      this._autoCompleteSearchService.getLatLngDetail(this.settings.geoLatLangServiceUrl, latlng.lat, latlng.lng).then((result: any) => {\n        if (result) {\n          result = this.extractServerList(this.settings.serverResponseatLangHierarchy, result);\n          this.setRecentLocation(result);\n        }\n        this.gettingCurrentLocationFlag = false;\n      });\n    }\n  }\n\n  //function to retrive the location info based on goovle place id.\n  private getPlaceLocationInfo(selectedData: any): any {\n    if (this.settings.useGoogleGeoApi) {\n      this._autoCompleteSearchService.getGeoPlaceDetail(selectedData.place_id).then((data: any) => {\n        if (data) {\n          this.setRecentLocation(data);\n        }\n      });\n    } else {\n      this._autoCompleteSearchService.getPlaceDetails(this.settings.geoLocDetailServerUrl, selectedData.place_id).then((result: any) => {\n        if (result) {\n          result = this.extractServerList(this.settings.serverResponseDetailHierarchy, result);\n          this.setRecentLocation(result);\n        }\n      });\n    }\n  }\n\n  //function to store the selected user search in the localstorage.\n  private setRecentLocation(data: any): any {\n    data = JSON.parse(JSON.stringify(data));\n    data.description = data.description ? data.description : data.formatted_address;\n    data.active = false;\n    this.selectedDataIndex = -1;\n    this.locationInput = data.description;\n    if (this.settings.showRecentSearch) {\n      this._autoCompleteSearchService.addRecentList(this.settings.recentStorageName, data, this.settings.noOfRecentSearchSave);\n      this.getRecentLocations();\n    }\n    this.userSelectedOption = data;\n    //below code will execute only when user press enter or select any option selection and it emit a callback to the parent component.\n    if (!this.settings.resOnSearchButtonClickOnly) {\n      this.componentCallback.emit({'response': true, 'data': data});\n    }\n  }\n\n  //function to retrive the stored recent user search from the localstorage.\n  private getRecentLocations(): any {\n    this._autoCompleteSearchService.getRecentList(this.settings.recentStorageName).then((data: any) => {\n      this.recentSearchData = (data && data.length) ? data : [];\n    });\n  }\n}\n"],"sourceRoot":""}